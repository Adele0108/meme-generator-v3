通义 API 配置说明
==================

本项目的 AI 生成（文案 + 图片）完全在前端调用通义 DashScope 接口。你只需要在页面左侧「AI 生成图片 + 文案」区域填入自己的 API Key 即可使用。

一、获取 API Key
----------------
1. 打开：https://www.aliyun.com/
2. 登录阿里云账号，进入「API-KEY 管理」
3. 新建并复制一条 API Key（建议为本项目单独创建）
4. 保管好你的 Key，勿外泄

二、在页面中使用
----------------
1. 打开网页（确保通过 http/https 访问，不要用 file://）
2. 在左侧「AI 生成图片 + 文案」区域：
   - 输入描述（prompt）
   - 粘贴 API Key
   - 点击「AI 生成」
3. 前端会先请求通义千问生成文案，再请求通义万相生成图片，并自动套用到画布

三、前端默认配置（可选修改）
--------------------------
- 基础地址：`https://dashscope.aliyuncs.com/compatible-mode/v1`
  - 你可以在 `meme-generator.js` 顶部通过 `window.DASH_BASE` 覆盖
- 文案接口：`/services/aigc/text-generation/generation`，模型 `qwen-plus`
  - 入口函数：`callQwenText`（约 230 行附近）
- 图片接口：`/services/aigc/image-generation/generation`，模型 `wanx-v1`
  - 入口函数：`callQwenImage`（约 230 行附近）
- 用途参数：`useTypeSelect` 下拉框会附带尺寸 / 文案提示信息

四、常见问题
------------
1) CORS 访问失败
   - 确保用 HTTP/HTTPS 打开页面（不要 file://）
   - 若网络无法直连 dashscope，可在本机/服务器做反向代理，并将 `DASH_BASE` 改为代理地址

2) 文案/图片生成失败
   - 检查 API Key 是否正确、是否过期
   - 检查账户配额/余额
   - 稍后重试或更换网络

3) Key 暴露风险
   - 前端直连时 Key 会在浏览器中暴露
   - 建议在公开部署时提醒用户填写自己的 Key
   - 如果需要更安全的方式，可自行增加后端代理由服务器代为签名转发

五、计费与配额
--------------
- 通义接口按调用量计费，具体以官方价格和你的账户配额为准
- 建议在控制台关注用量，避免超额

六、快速验证步骤
----------------
1. 启动本地或在线站点
2. 在「AI 生成」区域填入描述 + API Key
3. 点击「AI 生成」，等待文案和图片出现
4. 下载或继续编辑即可

以上即可完成通义 API 的使用配置。若需进一步示例或代理配置示例，可再补充。祝使用顺利！

